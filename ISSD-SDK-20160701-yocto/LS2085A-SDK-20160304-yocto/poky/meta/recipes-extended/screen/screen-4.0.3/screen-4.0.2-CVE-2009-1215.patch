Upstream-Status: Backport

This patch is a backport from screen_4.0.3-11+lenny1.diff 
to fix CVE-2009-1215.

Signed-off-by:  Shenbo Huang<shenbo.huang@windriver.com)
---
	properly by keeping the umask instead of dropping
	the 'public exchange file' concept. Modify dpatch 22.
	<http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=521123>
---
 fileio.c |    5 -----
 1 file changed, 5 deletions(-)
--- a/fileio.c
+++ b/fileio.c
@@ -365,11 +365,6 @@ int dump;
   char *mode = "w";
 #ifdef COPY_PASTE
   int public = 0;
-# ifdef _MODE_T
-  mode_t old_umask;
-# else
-  int old_umask;
-# endif
 # ifdef HAVE_LSTAT
   struct stat stb, stb2;
   int fd, exists = 0;
